<html>
	<head>
		<title>Ex014</title>
		<link rel="shortcut icon" href="favicon.ico" />
		<style>
			BODY {font-family: Verdana;}
			DIV {
				/* overflow: hidden; */ 
				}
			H3 {color: #0066AA;cursor: pointer;}
			P  {color: #0022AA}
		</style>
		<script>
			function listTags(){
				var filhos = document.querySelectorAll("*");
				var filho = null;
				console.log(filhos);
				for(a=0;a<filhos.length;a++){
					filho = filhos[a];
					console.log(typeof(filho)+"-"+filho.tagName); // Node
					}				
				}
			// *************** Lista nós ****************
			function listNos(obj){
				// NÓ DO TIPO TEXTO
				if( obj.nodeName =='#text' ){
					if( (obj.nodeValue).trim() != "" ){
						console.log("Text: "+obj.nodeValue);
						}
					return;
					} else {
					console.log("Nó: "+obj);
					console.log(obj);
					}
				// Funções recursivas só devem ter suas variáveis de referência locais
				// Variáveis globais à função recursiva apenas se houver somas e acumulados
				// NÓ DO TIPO coleção (TAG HTYML)
				if( obj.hasChildNodes() ){
					var filhos = obj.childNodes;
					var filho = null;
					var Dados = null;
					for(let a=0;a<filhos.length;a++){
						filho = filhos[a];
						//Dados = typeof(filho.childNodes[0].data);
						if( filho.tagName){
							console.log(typeof(filho)+"-"+filho.tagName+":"+filho.childNodes.length);
							}
						listNos(filho);
						}
					}
				return;
				}
			// Fim ****************************	
			function listNos_old(obj){
				if( obj.nodeName =='#text' ){
					console.log("Text: "+obj.nodeValue);
					return;
					}
				var a = null;
				var filhos = null;
				if( obj.childNodes ){
					filhos = obj.childNodes;
					} else {
					console.log(typeof(obj)+"-"+obj.tagName);
					return;					
					}
				var filho = null;
				var Dados = null;
				var NoNos = obj.childNodes.length;
				console.log(filhos);
				if( NoNos == 0 ) return;
				for(a=0;a<NoNos;a++){
					filho = filhos[a];
					if( filho.childNodes[0] ) {
						Dados = typeof(filho.childNodes[0].data);
						} else Dados = "N/A";
					NoNos = filho.childNodes.length;
					console.log(typeof(filho)+"-"+filho.tagName+"-"+Dados+":"+NoNos); // Node
					listNos(filho);
					}				
				return;
				}
			function init(){
				console.log("Document: Listagem dos nós");
				//listTags();
				listNos(document);
				}
		</script>
	</head>
	<body onload="init();">
		<h3 onclick="openDiv('d1')">Primeira DIV</h3>
		<div id="d1" class="menu">
			
			<p>Primeiro parágrafo</p>
			<p>Segundo parágrafo</p>
			<p>Terceiro parágrafo</p>
		</div>
		<h3 onclick="openDiv('d2')">Segunda DIV</h3>
		<div id="d2" class="menu">
			
			<p>Primeiro parágrafo</p>
			<p>Segundo parágrafo</p>
			<p>Terceiro parágrafo</p>
		</div>
		<h3 onclick="openDiv('d3')">Terceira DIV</h3>
		<div id="d3" class="menu">
			
			<p>Primeiro parágrafo</p>
			<p>Segundo parágrafo</p>
			<p>Terceiro parágrafo</p>
		</div>	
	</body>
</html>