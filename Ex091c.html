<head>
	<title>Clip</title>
	<script type="text/javascript">
		var bordaLin = 2;
		var tempo = 5;
		var tempoc = 1;
		var canvas1 = null;
		var ctx1 = null;
		var canvas2 = null;
		var ctx2 = null;
		var arcX = 10;
		var ardX = 720;
		const INC = 10;
		var base_image = null;
		var base_image2 = null;
		var base_image3 = null;
		var base_image4 = null;
		// Inicia Canvas e contexto
		function init(){
			canvas1 = document.getElementById('canvas1'),
			ctx1 = canvas1.getContext('2d');
			base_image = new Image();
			base_image.width = 80;
			base_image.height = 80;
			base_image.src = 'Sprite01.gif';

			base_image.onload = function(){
				ctx1.drawImage(base_image, arcX, 0);
				preAtualiza1();
				}
			}
		function preAtualiza1(){
			base_image2 = new Image();
			base_image2.width = 80;
			base_image2.height = 80;
			base_image2.src = 'Sprite02.gif';
			base_image2.onload = function(){
				ctx1.drawImage(base_image2, ardX, 0);
				preAtualiza2();
				}			
			}
		function preAtualiza2(){
			base_image3 = new Image();
			base_image3.width = 80;
			base_image3.height = 80;
			base_image3.src = 'rubber.jpg';
			base_image3.onload = function(){
				ctx1.drawImage(base_image3, arcX-INC, 0);
				preAtualiza3();
				}			
			}
		function preAtualiza3(){
			base_image4 = new Image();
			base_image4.width = 80;
			base_image4.height = 80;
			base_image4.src = 'rubber2.jpg';
			base_image4.onload = function(){
				//ctx1.drawImage(base_image4, ardX+INC, 0);
				atualiza(0);
				}			
			}
		// Atualiza contexto lógico
		function atualiza(timestamp){
			tempoc++;
			roda();
			}		
		// Atualiza contexto gráfico
		function roda(){
			if( tempoc % tempo == 0 ){
				ctx1.drawImage(base_image3, arcX, 0);
				arcX = arcX + INC;
				ctx1.drawImage(base_image, arcX, 0);
				if( arcX >= ardX - 40){ return; }
				ctx1.drawImage(base_image4, ardX, 0);
				ardX = ardX - INC;
				ctx1.drawImage(base_image2, ardX, 0);
				ctx1.stroke();	
				}
			window.requestAnimationFrame(atualiza);
			}
	</script>
	<style>
		CANVAS {border: solid 1px teal;}
	</style>
</head>
<body onload="init();">
	<canvas id="canvas1" width=800 height=800></canvas>
</body>